{% extends 'base.html.twig' %}

{% block title %}Nouveau Evidence | Digital Evidence
{% endblock %}

{% block body %}
	<style>:root
	{
		--primary-vibrant: #3b82f6;
		--secondary-vibrant: #8b5cf6;
		--bg-dark: #0f172a;
		--card-dark: rgba(30, 41, 59, 0.7);
		--text-light: #f8fafc;
		--text-dim: #94a3b8;
		--accent-green: #10b981;
		--border-glass: rgba(255, 255, 255, 0.1);
	}

	.evidence-page {
		min-height: 100vh;
		padding: 4rem 2rem;
		background: radial-gradient(circle at top right, #1e293b, #0f172a);
		color: var(--text-light);
	}

	.form-wrapper {
		max-width: 800px;
		margin: 0 auto;
		background: var(--card-dark);
		backdrop-filter: blur(12px);
		border: 1px solid var(--border-glass);
		border-radius: 24px;
		padding: 3rem;
		box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
	}

	.page-header {
		margin-bottom: 3rem;
		text-align: center;
	}

	.page-header h1 {
		font-size: 2.5rem;
		font-weight: 800;
		background: linear-gradient(to right, #3b82f6, #8b5cf6);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		margin-bottom: 0.5rem;
	}

	.case-context {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		padding: 0.5rem 1rem;
		background: rgba(59, 130, 246, 0.1);
		border: 1px solid rgba(59, 130, 246, 0.2);
		border-radius: 9999px;
		color: var(--primary-vibrant);
		font-size: 0.9rem;
		font-weight: 600;
	}

	/* Form Specific Styles */
	.form-grid {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 1.5rem;
	}

	.full-width {
		grid-column: 1 / -1;
	}

	.form-row label {
		display: block;
		margin-bottom: 0.5rem;
		font-weight: 500;
		color: var(--text-dim);
		font-size: 0.9rem;
	}

	.form-input,
	.form-select,
	.form-input-file {
		width: 100%;
		padding: 0.75rem 1rem;
		background: rgba(15, 23, 42, 0.6);
		border: 1px solid var(--border-glass);
		border-radius: 12px;
		color: var(--text-light);
		transition: all 0.3s ease;
	}

	.form-input:focus,
	.form-select:focus {
		outline: none;
		border-color: var(--primary-vibrant);
		box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
	}

	textarea.form-input {
		min-height: 120px;
		resize: vertical;
	}

	.form-actions {
		margin-top: 3rem;
		display: flex;
		flex-direction: column;
		gap: 1rem;
		align-items: center;
	}

	.btn-submit {
		width: 100%;
		padding: 1rem;
		background: linear-gradient(135deg, var(--primary-vibrant), var(--secondary-vibrant));
		color: white;
		border: none;
		border-radius: 12px;
		font-size: 1.1rem;
		font-weight: 600;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.75rem;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.btn-submit:hover {
		transform: translateY(-2px);
		box-shadow: 0 12px 20px -5px rgba(59, 130, 246, 0.4);
		filter: brightness(1.1);
	}

	.btn-back {
		color: var(--text-dim);
		text-decoration: none;
		font-size: 0.9rem;
		display: flex;
		align-items: center;
		gap: 0.5rem;
		transition: color 0.2s;
	}

	.btn-back:hover {
		color: var(--text-light);
	}

	/* File input custom styling */
	input[type="file"]::file-selector-button {
		background: rgba(255, 255, 255, 0.1);
		border: none;
		padding: 0.5rem 1rem;
		border-radius: 8px;
		color: white;
		cursor: pointer;
		margin-right: 1rem;
	}

	input[type="file"]::file-selector-button:hover {
		background: rgba(255, 255, 255, 0.2);
	}
</style>

<div class="evidence-page">
	<div class="form-wrapper">
		<header class="page-header">
			<h1>Nouvelle Evidence</h1>
			{% if evidence.caseWork %}
				<div class="case-context">
					<span class="material-symbols-outlined">folder</span>
					Dossier:
					{{ evidence.caseWork.title }}
				</div>
			{% endif %}
		</header>

		{{ include('evidence/_form.html.twig', {'button_label': 'Ajouter Evidence'}) }}

		<a class="btn-back" href="{{ path('app_investigateur_case_explore', {id: evidence.caseWork.id}) }}">
			Retour Ã  la liste des cases
		</a>
	</footer>
</div></div>{% endblock %}
