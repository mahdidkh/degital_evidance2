{% extends 'base.html.twig' %}

{% block title %}Register - Digital Evidence Vault{% endblock %}

{% block body %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h1 class="auth-title">Create Account</h1>
            <p class="auth-subtitle">Join the Digital Evidence Vault</p>
        </div>

        {% for flash_error in app.flashes('verify_email_error') %}
            <div class="alert-error">
                {{ flash_error }}
            </div>
        {% endfor %}

        {{ form_start(registrationForm, { attr: { class: 'auth-form' } }) }}
            <div class="form-group">
                {{ form_widget(registrationForm.cin, { attr: { class: 'form-input', placeholder: 'CIN' } }) }}
                <div class="text-red-500 text-xs">{{ form_errors(registrationForm.cin) }}</div>
            </div>
            
            <div class="flex gap-4">
                <div class="form-group flex-1">
                    {{ form_widget(registrationForm.first_name, { attr: { class: 'form-input', placeholder: 'First Name' } }) }}
                    <div class="text-red-500 text-xs">{{ form_errors(registrationForm.first_name) }}</div>
                </div>
                <div class="form-group flex-1">
                    {{ form_widget(registrationForm.last_name, { attr: { class: 'form-input', placeholder: 'Last Name' } }) }}
                    <div class="text-red-500 text-xs">{{ form_errors(registrationForm.last_name) }}</div>
                </div>
            </div>

            <div class="form-group">
                {{ form_widget(registrationForm.email, { attr: { class: 'form-input', placeholder: 'Email Address' } }) }}
                <div class="text-red-500 text-xs">{{ form_errors(registrationForm.email) }}</div>
            </div>

            <div class="form-group">
                {{ form_widget(registrationForm.tel, { attr: { class: 'form-input', placeholder: 'Phone Number' } }) }}
                <div class="text-red-500 text-xs">{{ form_errors(registrationForm.tel) }}</div>
            </div>

            <div class="form-group">
                {{ form_widget(registrationForm.role, { attr: { class: 'form-input bg-slate-800' } }) }}
                <div class="text-red-500 text-xs">{{ form_errors(registrationForm.role) }}</div>
            </div>

            <div class="form-group">
                {{ form_widget(registrationForm.plainPassword, { attr: { class: 'form-input', placeholder: 'Password' } }) }}
                <div class="text-red-500 text-xs">{{ form_errors(registrationForm.plainPassword) }}</div>
            </div>

            <div class="form-group flex items-center gap-2">
                {{ form_widget(registrationForm.agreeTerms, { attr: { class: 'rounded border-slate-600 bg-slate-800 text-blue-600 focus:ring-blue-500' } }) }}
                <label for="{{ registrationForm.agreeTerms.vars.id }}" class="text-sm text-slate-400">
                    I agree to the terms and conditions
                </label>
            </div>

            <button type="submit" class="auth-btn">
                Register
            </button>
        {{ form_end(registrationForm) }}
        
        <div class="auth-footer">
            Already have an account?
            <a href="{{ path('app_login') }}" class="auth-link">
                Sign in
            </a>
        </div>
    </div>
</div>
{% endblock %}
